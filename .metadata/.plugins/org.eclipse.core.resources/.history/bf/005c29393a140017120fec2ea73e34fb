#include <Arduino.h>
#include <avr/io.h>
#include <FreeRTOS.h>
#include <task.h>
#include <semphr.h>

#define STACK_SIZE 200
#define LED_PIN      7
#define LED_PIN_2    6

void int0task(void *p)
{
	for (int count = 0; count < 7; count++) {
		digitalWrite(LED_PIN, HIGH);
		delay(125);
		digitalWrite(LED_PIN, LOW);
		delay(125);
	}
}

void int1task(void *p)
{
	for (int count = 0; count < 6; count++) {
		digitalWrite(LED_PIN_2, HIGH);
		delay(250);
		digitalWrite(LED_PIN_2, LOW);
		delay(250);
	}
}

void setup() {
	Serial.begin(115200);
	pinMode(LED_PIN, OUTPUT);
	pinMode(LED_PIN_2, OUTPUT);

}

void loop() {
	/* create two tasks one with higher priority than the other */
	xTaskCreate(int0task, "Task1", STACK_SIZE, (void * ) 1, 2, NULL);
	xTaskCreate(int1task, "Task2", STACK_SIZE, (void * ) 2, 3, NULL);
	/* start scheduler */
	vTaskStartScheduler();
}
